# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This file specifies the build flags for Firefox.  You can use it by adding:
#  . $topsrcdir/browser/config/mozconfig
# to the top of your mozconfig file.
j=`nproc --all`

ac_add_options --with-app-name=Datcord
ac_add_options --with-app-basename=datcord
ac_add_options --enable-official-branding
#ac_add_options --with-branding=browser/branding/datcord
ac_add_options --enable-update-channel=release
ac_add_options MOZ_TELEMETRY_REPORTING=
ac_add_options --allow-addon-sideload
ac_add_options --disable-crashreporter


mk_add_options MOZ_MAKE_FLAGS="-j{j}"
mk_add_options AUTOCLOBBER=1

export MOZ_APP_PROFILE="Datcord"

# ubuntu seems to recommend this
ac_add_options --disable-elf-hack

export CC='clang-12'
export CXX='clang++-12'
export AR=llvm-ar-12
export NM=llvm-nm-12
export RANLIB=llvm-ranlib-12

# probably not needed, enabled by default?
ac_add_options --enable-optimize
